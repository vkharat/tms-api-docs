{
  "components": {
    "schemas": {
      "DocumentationRequest": {
        "type": "object",
        "required": ["bookingId", "documentTypes"],
        "description": "Request for shipping documentation",
        "properties": {
          "bookingId": {
            "type": "string",
            "format": "uuid",
            "description": "Associated booking identifier"
          },
          "documentTypes": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": [
                "BILL_OF_LADING",
                "SEA_WAYBILL",
                "COMMERCIAL_INVOICE",
                "PACKING_LIST",
                "CERTIFICATE_OF_ORIGIN",
                "DANGEROUS_GOODS_DECLARATION",
                "CUSTOMS_DECLARATION"
              ]
            },
            "description": "Types of documents needed"
          },
          "documentationPreferences": {
            "$ref": "#/components/schemas/DocumentPreferences"
          },
          "partyDetails": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DocumentParty"
            },
            "description": "Parties to be listed on documents"
          }
        }
      },
      "DocumentPreferences": {
        "type": "object",
        "description": "Preferences for document generation",
        "properties": {
          "format": {
            "type": "string",
            "enum": ["PDF", "WORD", "XML", "EDI"],
            "default": "PDF",
            "description": "Preferred document format"
          },
          "language": {
            "type": "string",
            "pattern": "^[a-z]{2}-[A-Z]{2}$",
            "description": "Language code (e.g., en-US)",
            "default": "en-US"
          },
          "distribution": {
            "$ref": "#/components/schemas/DocumentDistribution"
          },
          "templateId": {
            "type": "string",
            "description": "Specific template to use"
          }
        }
      },
      "DocumentDistribution": {
        "type": "object",
        "description": "Document distribution preferences",
        "properties": {
          "deliveryMethod": {
            "type": "string",
            "enum": ["EMAIL", "API", "PORTAL", "EDI"],
            "description": "How to deliver the documents"
          },
          "recipients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DocumentRecipient"
            }
          },
          "notificationPreferences": {
            "$ref": "#/components/schemas/NotificationPreferences"
          }
        }
      },
      "DocumentParty": {
        "type": "object",
        "required": ["role", "partyDetails"],
        "description": "Party to be included in documentation",
        "properties": {
          "role": {
            "type": "string",
            "enum": [
              "SHIPPER",
              "CONSIGNEE",
              "NOTIFY_PARTY",
              "CUSTOMS_BROKER",
              "FREIGHT_FORWARDER"
            ],
            "description": "Role of the party in documentation"
          },
          "partyDetails": {
            "$ref": "#/components/schemas/PartyDetails"
          },
          "documentSpecificInfo": {
            "type": "object",
            "additionalProperties": true,
            "description": "Additional information specific to documents"
          }
        }
      },
      "CustomsDeclaration": {
        "type": "object",
        "required": ["declarationType", "shipmentDetails"],
        "description": "Customs declaration information",
        "properties": {
          "declarationType": {
            "type": "string",
            "enum": ["IMPORT", "EXPORT", "TRANSIT", "TEMPORARY"],
            "description": "Type of customs declaration"
          },
          "shipmentDetails": {
            "$ref": "#/components/schemas/ShipmentDetails"
          },
          "commodities": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomsCommodity"
            }
          },
          "customsValue": {
            "$ref": "#/components/schemas/MonetaryAmount"
          },
          "duties": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DutyCalculation"
            }
          }
        }
      },
      "CustomsShipmentDetails": {
        "type": "object",
        "required": ["entryType", "customsOffice"],
        "description": "Details specific to customs processing",
        "properties": {
          "entryType": {
            "type": "string",
            "enum": ["FORMAL", "INFORMAL", "CARNET", "SECTION_321"],
            "description": "Type of customs entry"
          },
          "customsOffice": {
            "$ref": "#/components/schemas/CustomsOffice"
          },
          "incoterm": {
            "type": "string",
            "description": "Applicable Incoterm"
          },
          "valuation": {
            "$ref": "#/components/schemas/CustomsValuation"
          },
          "preferences": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Applicable trade preferences or agreements"
          }
        }
      },
      "CustomsCommodity": {
        "type": "object",
        "required": ["description", "hsCode", "value"],
        "description": "Commodity information for customs",
        "properties": {
          "description": {
            "type": "string",
            "description": "Commodity description"
          },
          "hsCode": {
            "type": "string",
            "pattern": "^[0-9]{6,10}$",
            "description": "Harmonized System code"
          },
          "value": {
            "$ref": "#/components/schemas/MonetaryAmount"
          },
          "countryOfOrigin": {
            "type": "string",
            "pattern": "^[A-Z]{2}$",
            "description": "ISO country code"
          },
          "classification": {
            "$ref": "#/components/schemas/CommodityClassification"
          }
        }
      },
      "CustomsValuation": {
        "type": "object",
        "required": ["method"],
        "description": "Customs valuation details",
        "properties": {
          "method": {
            "type": "string",
            "enum": [
              "TRANSACTION_VALUE",
              "IDENTICAL_GOODS",
              "SIMILAR_GOODS",
              "DEDUCTIVE_VALUE",
              "COMPUTED_VALUE"
            ],
            "description": "Valuation method used"
          },
          "adjustments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValuationAdjustment"
            }
          },
          "relatedPartyTransaction": {
            "type": "boolean",
            "description": "Whether transaction is between related parties"
          }
        }
      },
      "ValuationAdjustment": {
        "type": "object",
        "required": ["type", "amount"],
        "description": "Adjustment to customs value",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "PACKING_COSTS",
              "COMMISSIONS",
              "ASSISTS",
              "ROYALTIES",
              "TRANSPORT_COSTS",
              "INSURANCE"
            ],
            "description": "Type of adjustment"
          },
          "amount": {
            "$ref": "#/components/schemas/MonetaryAmount"
          },
          "direction": {
            "type": "string",
            "enum": ["ADD", "DEDUCT"],
            "description": "Whether to add or deduct"
          }
        }
      },
      "DutyCalculation": {
        "type": "object",
        "required": ["type", "rate", "amount"],
        "description": "Duty or tax calculation",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["DUTY", "VAT", "EXCISE", "OTHER"],
            "description": "Type of duty or tax"
          },
          "rate": {
            "type": "number",
            "minimum": 0,
            "description": "Rate as percentage"
          },
          "amount": {
            "$ref": "#/components/schemas/MonetaryAmount"
          },
          "direction": {
            "type": "string",
            "enum": ["ADD", "DEDUCT"],
            "description": "Whether to add or deduct"
          }
        }
      },
      "CommodityClassification": {
        "type": "object",
        "description": "Detailed commodity classification",
        "properties": {
          "hsCode": {
            "type": "string",
            "pattern": "^[0-9]{6,10}$",
            "description": "Harmonized System code"
          },
          "eccn": {
            "type": "string",
            "description": "Export Control Classification Number"
          },
          "scheduleB": {
            "type": "string",
            "description": "Schedule B number"
          },
          "restrictions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommodityRestriction"
            }
          }
        }
      },
      "CommodityRestriction": {
        "type": "object",
        "required": ["type", "authority"],
        "description": "Import/export restrictions",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["LICENSE_REQUIRED", "PROHIBITED", "CONTROLLED", "QUOTA"],
            "description": "Type of restriction"
          },
          "authority": {
            "type": "string",
            "description": "Governing authority"
          },
          "licenseRequired": {
            "type": "boolean",
            "description": "Whether license is needed"
          },
          "licenseDetails": {
            "$ref": "#/components/schemas/LicenseDetails"
          }
        }
      }
    }
  }
}