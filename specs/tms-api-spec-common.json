{
  "components": {
    "schemas": {
      "MonetaryAmount": {
        "type": "object",
        "required": ["value", "currency"],
        "description": "Monetary amount in a specific currency",
        "properties": {
          "value": {
            "type": "number",
            "format": "double",
            "description": "Monetary value",
            "example": 1250.50
          },
          "currency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "description": "ISO 4217 currency code",
            "example": "USD"
          }
        }
      },
      "Duration": {
        "type": "object",
        "required": ["value", "unit"],
        "description": "Time duration",
        "properties": {
          "value": {
            "type": "number",
            "minimum": 0,
            "description": "Duration value",
            "example": 14
          },
          "unit": {
            "type": "string",
            "enum": ["MINUTES", "HOURS", "DAYS", "WEEKS"],
            "description": "Time unit"
          }
        }
      },
      "Distance": {
        "type": "object",
        "required": ["value", "unit"],
        "description": "Distance measurement",
        "properties": {
          "value": {
            "type": "number",
            "minimum": 0,
            "description": "Distance value",
            "example": 5280
          },
          "unit": {
            "type": "string",
            "enum": ["KM", "MI", "NM"],
            "description": "Distance unit (kilometers, miles, nautical miles)"
          }
        }
      },
      "DateRange": {
        "type": "object",
        "required": ["startDate", "endDate"],
        "description": "Date range with start and end dates",
        "properties": {
          "startDate": {
            "type": "string",
            "format": "date-time",
            "description": "Start date and time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "description": "End date and time"
          }
        }
      },
      "FreeTimeDetail": {
        "type": "object",
        "description": "Free time details for a specific location",
        "properties": {
          "duration": {
            "$ref": "#/components/schemas/Duration"
          },
          "startTrigger": {
            "type": "string",
            "enum": ["DISCHARGE", "GATE_IN", "GATE_OUT"],
            "description": "Event that starts the free time period"
          },
          "includesWeekends": {
            "type": "boolean",
            "description": "Whether weekends are included in free time calculation",
            "default": true
          },
          "includesHolidays": {
            "type": "boolean",
            "description": "Whether holidays are included in free time calculation",
            "default": false
          }
        }
      },
      "ReferenceNumbers": {
        "type": "object",
        "description": "Collection of reference numbers",
        "properties": {
          "bookingNumber": {
            "type": "string",
            "description": "Booking reference number",
            "example": "BOOK123456"
          },
          "customerReference": {
            "type": "string",
            "description": "Customer's reference number",
            "example": "PO-987654"
          },
          "contractNumber": {
            "type": "string",
            "description": "Contract or agreement number",
            "example": "CONT-2025-001"
          }
        }
      },
      "Contact": {
        "type": "object",
        "description": "Contact information",
        "properties": {
          "name": {
            "type": "string",
            "description": "Contact person's name"
          },
          "role": {
            "type": "string",
            "description": "Contact person's role"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address"
          },
          "phone": {
            "type": "string",
            "pattern": "^\\+?[1-9]\\d{1,14}$",
            "description": "Phone number in E.164 format"
          },
          "availableHours": {
            "$ref": "#/components/schemas/OperatingSchedule"
          }
        }
      },
      "ExchangeRate": {
        "type": "object",
        "required": ["fromCurrency", "toCurrency", "rate", "date"],
        "description": "Currency exchange rate information",
        "properties": {
          "fromCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "description": "Source currency code"
          },
          "toCurrency": {
            "type": "string",
            "pattern": "^[A-Z]{3}$",
            "description": "Target currency code"
          },
          "rate": {
            "type": "number",
            "description": "Exchange rate value"
          },
          "date": {
            "type": "string",
            "format": "date",
            "description": "Date of the exchange rate"
          },
          "source": {
            "type": "string",
            "description": "Source of exchange rate data"
          }
        }
      },
      "Location": {
        "type": "object",
        "required": ["locationId", "type"],
        "description": "Location information",
        "properties": {
          "locationId": {
            "type": "string",
            "description": "Unique location identifier"
          },
          "type": {
            "type": "string",
            "enum": ["PORT", "TERMINAL", "WAREHOUSE", "DEPOT", "ADDRESS"],
            "description": "Type of location"
          },
          "name": {
            "type": "string",
            "description": "Location name"
          },
          "code": {
            "type": "string",
            "description": "Location code (e.g., UN/LOCODE)"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "coordinates": {
            "type": "object",
            "properties": {
              "latitude": {
                "type": "number",
                "minimum": -90,
                "maximum": 90
              },
              "longitude": {
                "type": "number",
                "minimum": -180,
                "maximum": 180
              }
            }
          }
        }
      },
      "Address": {
        "type": "object",
        "required": ["country"],
        "description": "Physical address",
        "properties": {
          "street": {
            "type": "string",
            "description": "Street address"
          },
          "city": {
            "type": "string",
            "description": "City name"
          },
          "state": {
            "type": "string",
            "description": "State or province"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal or ZIP code"
          },
          "country": {
            "type": "string",
            "pattern": "^[A-Z]{2}$",
            "description": "ISO country code"
          }
        }
      },
      "Party": {
        "type": "object",
        "required": ["partyId", "name"],
        "description": "Party information",
        "properties": {
          "partyId": {
            "type": "string",
            "description": "Unique identifier for the party"
          },
          "name": {
            "type": "string",
            "description": "Party name"
          },
          "type": {
            "type": "string",
            "enum": ["SHIPPER", "CONSIGNEE", "FREIGHT_FORWARDER", "CUSTOMS_BROKER"],
            "description": "Type of party"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "contact": {
            "$ref": "#/components/schemas/Contact"
          }
        }
      },
      "TimeWindow": {
        "type": "object",
        "required": ["start", "end"],
        "description": "Time window with start and end times",
        "properties": {
          "start": {
            "type": "string",
            "pattern": "^([01]\\d|2[0-3]):([0-5]\\d)$",
            "description": "Start time (HH:mm)"
          },
          "end": {
            "type": "string",
            "pattern": "^([01]\\d|2[0-3]):([0-5]\\d)$",
            "description": "End time (HH:mm)"
          }
        }
      },
      "OperatingSchedule": {
        "type": "object",
        "description": "Operating schedule information",
        "properties": {
          "weekdays": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/TimeWindow"
            }
          },
          "exceptions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ScheduleException"
            }
          }
        }
      },
      "ScheduleException": {
        "type": "object",
        "required": ["date", "type"],
        "description": "Exception to regular schedule",
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "description": "Exception date"
          },
          "type": {
            "type": "string",
            "enum": ["HOLIDAY", "SPECIAL_HOURS", "CLOSED"],
            "description": "Type of exception"
          },
          "hours": {
            "$ref": "#/components/schemas/TimeWindow"
          },
          "description": {
            "type": "string",
            "description": "Description of the exception"
          }
        }
      },
      "BaseEntity": {
        "type": "object",
        "required": ["id", "type", "status", "createdAt"],
        "description": "Base entity pattern for all major resources",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier"
          },
          "type": {
            "type": "string",
            "description": "Entity type"
          },
          "status": {
            "type": "string",
            "description": "Current status"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "Last update timestamp"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": true,
            "description": "Additional metadata"
          }
        }
      }
    }
  }
}