{
  "components": {
    "schemas": {
      "Notification": {
        "type": "object",
        "required": ["notificationId", "type", "priority", "content"],
        "description": "Notification message structure",
        "properties": {
          "notificationId": {
            "type": "string",
            "description": "Unique identifier for the notification"
          },
          "type": {
            "type": "string",
            "enum": [
              "SHIPMENT_UPDATE",
              "DOCUMENT_READY",
              "EXCEPTION_ALERT",
              "APPROVAL_REQUEST",
              "SYSTEM_ALERT",
              "PAYMENT_REMINDER",
              "COMPLIANCE_ALERT"
            ],
            "description": "Type of notification"
          },
          "priority": {
            "type": "string",
            "enum": ["LOW", "MEDIUM", "HIGH", "CRITICAL"],
            "description": "Notification priority"
          },
          "content": {
            "$ref": "#/components/schemas/NotificationContent"
          },
          "recipients": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationRecipient"
            }
          },
          "channels": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationChannel"
            }
          },
          "tracking": {
            "$ref": "#/components/schemas/NotificationTracking"
          },
          "metadata": {
            "$ref": "#/components/schemas/NotificationMetadata"
          }
        }
      },
      "NotificationContent": {
        "type": "object",
        "required": ["subject", "body"],
        "description": "Content of the notification",
        "properties": {
          "subject": {
            "type": "string",
            "description": "Notification subject or title"
          },
          "body": {
            "type": "string",
            "description": "Main notification message"
          },
          "template": {
            "type": "string",
            "description": "Template identifier if using templated content"
          },
          "templateData": {
            "type": "object",
            "additionalProperties": true,
            "description": "Data to populate template placeholders"
          },
          "attachments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationAttachment"
            }
          }
        }
      },
      "NotificationRecipient": {
        "type": "object",
        "required": ["recipientId", "type"],
        "description": "Recipient of the notification",
        "properties": {
          "recipientId": {
            "type": "string",
            "description": "Unique identifier for the recipient"
          },
          "type": {
            "type": "string",
            "enum": ["USER", "GROUP", "ROLE", "SYSTEM"],
            "description": "Type of recipient"
          },
          "preferences": {
            "$ref": "#/components/schemas/NotificationPreferences"
          },
          "deliveryStatus": {
            "type": "string",
            "enum": ["PENDING", "SENT", "DELIVERED", "FAILED"],
            "description": "Current delivery status"
          }
        }
      },
      "NotificationChannel": {
        "type": "object",
        "required": ["channelType", "status"],
        "description": "Notification delivery channel",
        "properties": {
          "channelType": {
            "type": "string",
            "enum": ["EMAIL", "SMS", "PUSH", "IN_APP", "WEBHOOK"],
            "description": "Type of notification channel"
          },
          "status": {
            "type": "string",
            "enum": ["ACTIVE", "INACTIVE", "FAILED"],
            "description": "Channel status"
          },
          "configuration": {
            "$ref": "#/components/schemas/ChannelConfiguration"
          },
          "deliveryAttempts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeliveryAttempt"
            }
          }
        }
      },
      "NotificationPreferences": {
        "type": "object",
        "description": "Recipient notification preferences",
        "properties": {
          "preferredChannels": {
            "type": "array",
            "items": {
              "type": "string",
              "enum": ["EMAIL", "SMS", "PUSH", "IN_APP"]
            },
            "description": "Preferred notification channels"
          },
          "schedules": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeliverySchedule"
            }
          },
          "blackoutPeriods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BlackoutPeriod"
            }
          },
          "filters": {
            "$ref": "#/components/schemas/NotificationFilters"
          }
        }
      },
      "NotificationTracking": {
        "type": "object",
        "description": "Notification delivery and interaction tracking",
        "properties": {
          "status": {
            "type": "string",
            "enum": ["PENDING", "SENT", "DELIVERED", "FAILED", "READ"],
            "description": "Current status"
          },
          "deliveryAttempts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeliveryAttempt"
            }
          },
          "interactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationInteraction"
            }
          },
          "analytics": {
            "$ref": "#/components/schemas/NotificationAnalytics"
          }
        }
      }
    }
  }
}