<!DOCTYPE html>
<html>
  <head>
    <title>TMS API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #redoc-container {
        background-color: white;
      }
    </style>
  </head>
  <body>
    <div id="redoc-container"></div>
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"> </script>
    <script>
      const spec = {
        "openapi": "3.0.3",
        "info": {
          "title": "TMS API Documentation",
          "version": "1.0.0",
          "description": "Transportation Management System API documentation",
          "contact": {
            "name": "API Support",
            "email": "api-support@example.com"
          }
        },
        "components": {
          "schemas": {
            "BaseEntity": {
              "type": "object",
              "required": ["id", "type", "status", "createdAt"],
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique identifier"
                },
                "type": {
                  "type": "string",
                  "description": "Entity type"
                },
                "status": {
                  "type": "string",
                  "description": "Current status"
                },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Creation timestamp"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Last update timestamp"
                }
              }
            },
            "MonetaryAmount": {
              "type": "object",
              "required": ["value", "currency"],
              "description": "Monetary amount in a specific currency",
              "properties": {
                "value": {
                  "type": "number",
                  "format": "double",
                  "description": "Monetary value"
                },
                "currency": {
                  "type": "string",
                  "pattern": "^[A-Z]{3}$",
                  "description": "ISO 4217 currency code"
                }
              }
            },
            "BillingDetails": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/BaseEntity"
                },
                {
                  "type": "object",
                  "required": ["billingParty", "amount"],
                  "description": "Billing information",
                  "properties": {
                    "billingParty": {
                      "$ref": "#/components/schemas/Party"
                    },
                    "amount": {
                      "$ref": "#/components/schemas/MonetaryAmount"
                    },
                    "dueDate": {
                      "type": "string",
                      "format": "date",
                      "description": "Payment due date"
                    },
                    "paymentTerms": {
                      "type": "string",
                      "description": "Payment terms description"
                    },
                    "invoiceNumber": {
                      "type": "string",
                      "description": "Invoice reference number"
                    },
                    "lineItems": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BillingLineItem"
                      }
                    },
                    "taxes": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TaxDetail"
                      }
                    }
                  }
                }
              ]
            },
            "BillingLineItem": {
              "type": "object",
              "required": ["description", "amount"],
              "description": "Individual billing line item",
              "properties": {
                "description": {
                  "type": "string",
                  "description": "Line item description"
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "quantity": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Quantity of items"
                },
                "unitPrice": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "serviceCode": {
                  "type": "string",
                  "description": "Service code reference"
                }
              }
            },
            "TaxDetail": {
              "type": "object",
              "required": ["type", "rate", "amount"],
              "description": "Tax information",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["VAT", "GST", "SALES_TAX", "OTHER"],
                  "description": "Type of tax"
                },
                "rate": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 100,
                  "description": "Tax rate percentage"
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "taxNumber": {
                  "type": "string",
                  "description": "Tax registration number"
                }
              }
            },
            "Party": {
              "type": "object",
              "required": ["partyId", "name"],
              "description": "Party information",
              "properties": {
                "partyId": {
                  "type": "string",
                  "description": "Unique identifier for the party"
                },
                "name": {
                  "type": "string",
                  "description": "Party name"
                },
                "type": {
                  "type": "string",
                  "enum": ["SHIPPER", "CONSIGNEE", "FREIGHT_FORWARDER", "CUSTOMS_BROKER"],
                  "description": "Type of party"
                },
                "address": {
                  "$ref": "#/components/schemas/Address"
                },
                "contact": {
                  "$ref": "#/components/schemas/Contact"
                }
              }
            },
            "Address": {
              "type": "object",
              "required": ["country"],
              "description": "Physical address",
              "properties": {
                "street": {
                  "type": "string",
                  "description": "Street address"
                },
                "city": {
                  "type": "string",
                  "description": "City name"
                },
                "state": {
                  "type": "string",
                  "description": "State or province"
                },
                "postalCode": {
                  "type": "string",
                  "description": "Postal or ZIP code"
                },
                "country": {
                  "type": "string",
                  "pattern": "^[A-Z]{2}$",
                  "description": "ISO country code"
                }
              }
            },
            "Contact": {
              "type": "object",
              "description": "Contact information",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Contact name"
                },
                "email": {
                  "type": "string",
                  "format": "email",
                  "description": "Email address"
                },
                "phone": {
                  "type": "string",
                  "pattern": "^\\+?[1-9]\\d{1,14}$",
                  "description": "Phone number"
                }
              }
            },
            "Invoice": {
              "type": "object",
              "required": ["invoiceId", "billTo", "charges", "status"],
              "description": "Invoice for transportation services",
              "properties": {
                "invoiceId": {
                  "type": "string",
                  "description": "Unique invoice identifier"
                },
                "billTo": {
                  "$ref": "#/components/schemas/BillingParty"
                },
                "charges": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InvoiceCharge"
                  }
                },
                "status": {
                  "type": "string",
                  "enum": ["DRAFT", "ISSUED", "PAID"]
                }
              }
            },
            "BillingParty": {
              "type": "object",
              "required": ["partyId", "billingDetails"],
              "properties": {
                "partyId": {
                  "type": "string"
                },
                "billingDetails": {
                  "$ref": "#/components/schemas/BillingDetails"
                }
              }
            },
            "InvoiceCharge": {
              "type": "object",
              "required": ["chargeType", "amount"],
              "properties": {
                "chargeType": {
                  "type": "string",
                  "enum": ["FREIGHT", "FUEL_SURCHARGE", "HANDLING"]
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                }
              }
            }
          }
        },
        "paths": {
          "/invoices": {
            "get": {
              "summary": "List all invoices",
              "operationId": "listInvoices",
              "tags": ["Billing"],
              "responses": {
                "200": {
                  "description": "A list of invoices",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Invoice"
                        }
                      }
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Create a new invoice",
              "operationId": "createInvoice",
              "tags": ["Billing"],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref": "#/components/schemas/Invoice"
                    }
                  }
                }
              },
              "responses": {
                "201": {
                  "description": "Invoice created successfully",
                  "content": {
                    "application/json": {
                      "schema": {
                        "$ref": "#/components/schemas/Invoice"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      };

      Redoc.init(
        spec,
        {
          scrollYOffset: 50,
          hideDownloadButton: false,
          expandResponses: '200,201',
          pathInMiddlePanel: true,
          theme: {
            colors: {
              primary: {
                main: '#32329f'
              }
            }
          }
        },
        document.getElementById('redoc-container')
      );
    </script>
  </body>
</html>