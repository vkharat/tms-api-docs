<!DOCTYPE html>
<html>
  <head>
    <title>TMS API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700|Roboto:300,400,700" rel="stylesheet">
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      #redoc-container {
        background-color: white;
      }
    </style>
  </head>
  <body>
    <div id="redoc-container"></div>
    <script src="https://cdn.redoc.ly/redoc/latest/bundles/redoc.standalone.js"> </script>
    <script>
      const spec = {
        "openapi": "3.0.3",
        "info": {
          "title": "TMS API Documentation",
          "version": "1.0.0",
          "description": "Transportation Management System API documentation",
          "contact": {
            "name": "API Support",
            "email": "api-support@example.com"
          }
        },
        "components": {
          "schemas": {
            "BaseEntity": {
              "type": "object",
              "required": ["id", "type", "status", "createdAt"],
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique identifier",
                  "example": "123e4567-e89b-12d3-a456-426614174000"
                },
                "type": {
                  "type": "string",
                  "description": "Entity type",
                  "example": "INVOICE"
                },
                "status": {
                  "type": "string",
                  "description": "Current status",
                  "example": "ACTIVE"
                },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Creation timestamp",
                  "example": "2024-01-01T12:00:00Z"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Last update timestamp",
                  "example": "2024-01-01T12:00:00Z"
                }
              }
            },
            "MonetaryAmount": {
              "type": "object",
              "required": ["value", "currency"],
              "description": "Monetary amount in a specific currency",
              "properties": {
                "value": {
                  "type": "number",
                  "format": "double",
                  "description": "Monetary value",
                  "example": 1250.50
                },
                "currency": {
                  "type": "string",
                  "pattern": "^[A-Z]{3}$",
                  "description": "ISO 4217 currency code",
                  "example": "USD"
                }
              }
            },
            "BillingDetails": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/BaseEntity"
                },
                {
                  "type": "object",
                  "required": ["billingParty", "amount"],
                  "description": "Billing information",
                  "properties": {
                    "billingParty": {
                      "$ref": "#/components/schemas/Party"
                    },
                    "amount": {
                      "$ref": "#/components/schemas/MonetaryAmount"
                    },
                    "dueDate": {
                      "type": "string",
                      "format": "date",
                      "description": "Payment due date",
                      "example": "2024-02-01"
                    },
                    "paymentTerms": {
                      "type": "string",
                      "description": "Payment terms description",
                      "example": "Net 30"
                    },
                    "invoiceNumber": {
                      "type": "string",
                      "description": "Invoice reference number",
                      "example": "INV-2024-001"
                    },
                    "lineItems": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/BillingLineItem"
                      }
                    },
                    "taxes": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/TaxDetail"
                      }
                    }
                  }
                }
              ]
            },
            "BillingLineItem": {
              "type": "object",
              "required": ["description", "amount"],
              "description": "Individual billing line item",
              "properties": {
                "description": {
                  "type": "string",
                  "description": "Line item description",
                  "example": "Ocean Freight"
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "quantity": {
                  "type": "number",
                  "minimum": 0,
                  "description": "Quantity of items",
                  "example": 1
                },
                "unitPrice": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "serviceCode": {
                  "type": "string",
                  "description": "Service code reference",
                  "example": "OCF-STD"
                }
              }
            },
            "TaxDetail": {
              "type": "object",
              "required": ["type", "rate", "amount"],
              "description": "Tax information",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["VAT", "GST", "SALES_TAX", "OTHER"],
                  "description": "Type of tax",
                  "example": "VAT"
                },
                "rate": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 100,
                  "description": "Tax rate percentage",
                  "example": 20
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                },
                "taxNumber": {
                  "type": "string",
                  "description": "Tax registration number",
                  "example": "GB123456789"
                }
              }
            },
            "Party": {
              "type": "object",
              "required": ["partyId", "name"],
              "description": "Party information",
              "properties": {
                "partyId": {
                  "type": "string",
                  "description": "Unique identifier for the party",
                  "example": "PARTY-001"
                },
                "name": {
                  "type": "string",
                  "description": "Party name",
                  "example": "Acme Corporation"
                },
                "type": {
                  "type": "string",
                  "enum": ["SHIPPER", "CONSIGNEE", "FREIGHT_FORWARDER", "CUSTOMS_BROKER"],
                  "description": "Type of party",
                  "example": "SHIPPER"
                },
                "address": {
                  "$ref": "#/components/schemas/Address"
                },
                "contact": {
                  "$ref": "#/components/schemas/Contact"
                }
              }
            },
            "Address": {
              "type": "object",
              "required": ["country"],
              "description": "Physical address",
              "properties": {
                "street": {
                  "type": "string",
                  "description": "Street address",
                  "example": "123 Main St"
                },
                "city": {
                  "type": "string",
                  "description": "City name",
                  "example": "Boston"
                },
                "state": {
                  "type": "string",
                  "description": "State or province",
                  "example": "MA"
                },
                "postalCode": {
                  "type": "string",
                  "description": "Postal or ZIP code",
                  "example": "02110"
                },
                "country": {
                  "type": "string",
                  "pattern": "^[A-Z]{2}$",
                  "description": "ISO country code",
                  "example": "US"
                }
              }
            },
            "Contact": {
              "type": "object",
              "description": "Contact information",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Contact name",
                  "example": "John Doe"
                },
                "email": {
                  "type": "string",
                  "format": "email",
                  "description": "Email address",
                  "example": "john.doe@example.com"
                },
                "phone": {
                  "type": "string",
                  "pattern": "^\\+?[1-9]\\d{1,14}$",
                  "description": "Phone number",
                  "example": "+1234567890"
                }
              }
            },
            "Invoice": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/BaseEntity"
                },
                {
                  "type": "object",
                  "required": ["invoiceId", "billTo", "charges", "status"],
                  "description": "Invoice for transportation services",
                  "properties": {
                    "invoiceId": {
                      "type": "string",
                      "description": "Unique invoice identifier",
                      "example": "INV-2024-001"
                    },
                    "billTo": {
                      "$ref": "#/components/schemas/BillingParty"
                    },
                    "charges": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/InvoiceCharge"
                      },
                      "example": [
                        {
                          "chargeType": "FREIGHT",
                          "amount": {
                            "value": 1000.00,
                            "currency": "USD"
                          }
                        }
                      ]
                    },
                    "status": {
                      "type": "string",
                      "enum": ["DRAFT", "ISSUED", "PAID"],
                      "example": "ISSUED"
                    }
                  }
                }
              ]
            },
            "BillingParty": {
              "type": "object",
              "required": ["partyId", "billingDetails"],
              "properties": {
                "partyId": {
                  "type": "string",
                  "example": "PARTY-001"
                },
                "billingDetails": {
                  "$ref": "#/components/schemas/BillingDetails"
                }
              }
            },
            "InvoiceCharge": {
              "type": "object",
              "required": ["chargeType", "amount"],
              "properties": {
                "chargeType": {
                  "type": "string",
                  "enum": ["FREIGHT", "FUEL_SURCHARGE", "HANDLING"],
                  "example": "FREIGHT"
                },
                "amount": {
                  "$ref": "#/components/schemas/MonetaryAmount"
                }
              }
            }
          }
        },
        "paths": {
          "/invoices": {
            "get": {
              "summary": "List all invoices",
              "operationId": "listInvoices",
              "tags": ["Billing"],
              "responses": {
                "200": {
                  "description": "A list of invoices",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "array",
                        "items": {
                          "$ref": "#/components/schemas/Invoice"
                        }
                      },
                      "example": [
                        {
                          "id": "123e4567-e89b-12d3-a456-426614174000",
                          "type": "INVOICE",
                          "status": "ACTIVE",
                          "createdAt": "2024-01-01T12:00:00Z",
                          "updatedAt": "2024-01-01T12:00:00Z",
                          "invoiceId": "INV-2024-001",
                          "billTo": {
                            "partyId": "PARTY-001",
                            "billingDetails": {
                              "id": "456e4567-e89b-12d3-a456-426614174000",
                              "type": "BILLING",
                              "status": "ACTIVE",
                              "createdAt": "2024-01-01T12:00:00Z",
                              "updatedAt": "2024-01-01T12:00:00Z",
                              "billingParty": {
                                "partyId": "PARTY-001",
                                "name": "Acme Corporation",
                                "type": "SHIPPER",
                                "address": {
                                  "street": "123 Main St",
                                  "city": "Boston",
                                  "state": "MA",
                                  "postalCode": "02110",
                                  "country": "US"
                                }
                              },
                              "amount": {
                                "value": 1250.50,
                                "currency": "USD"
                              }
                            }
                          },
                          "charges": [
                            {
                              "chargeType": "FREIGHT",
                              "amount": {
                                "value": 1000.00,
                                "currency": "USD"
                              }
                            }
                          ],
                          "status": "ISSUED"
                        }
                      ]
                    }
                  }
                }
              }
            },
            "post": {
              "summary": "Create a new invoice",
              "operationId": "createInvoice",
              "tags": ["Billing"],
              "requestBody": {
                "required": true,
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref": "#/components/schemas/Invoice"
                    },
                    "example": {
                      "invoiceId": "INV-2024-002",
                      "billTo": {
                        "partyId": "PARTY-001",
                        "billingDetails": {
                          "billingParty": {
                            "partyId": "PARTY-001",
                            "name": "Acme Corporation"
                          },
                          "amount": {
                            "value": 1500.00,
                            "currency": "USD"
                          }
                        }
                      },
                      "charges": [
                        {
                          "chargeType": "FREIGHT",
                          "amount": {
                            "value": 1500.00,
                            "currency": "USD"
                          }
                        }
                      ],
                      "status": "DRAFT"
                    }
                  }
                }
              },
              "responses": {
                "201": {
                  "description": "Invoice created successfully",
                  "content": {
                    "application/json": {
                      "schema": {
                        "$ref": "#/components/schemas/Invoice"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      };

      Redoc.init(
        spec,
        {
          scrollYOffset: 50,
          hideDownloadButton: false,
          expandResponses: '200,201',
          pathInMiddlePanel: true,
          theme: {
            colors: {
              primary: {
                main: '#32329f'
              }
            }
          }
        },
        document.getElementById('redoc-container')
      );
    </script>
  </body>
</html>